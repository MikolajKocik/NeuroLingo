<Window x:Class="NeuroLingo.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:NeuroLingo.WPF.ViewModels"
        mc:Ignorable="d"
        Title="NeuroLingo" 
        Height="700" Width="1000"
        MinHeight="500" MinWidth="800"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">

    <!-- Window DataContext set via XAML -->
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header Navigation - Pure XAML Template -->
        <Border Grid.Row="0" 
                Background="{StaticResource WhiteBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,0,0,1"
                Padding="20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Logo -->
                <StackPanel Grid.Column="0" 
                            Orientation="Horizontal" 
                            VerticalAlignment="Center">
                    <TextBlock Text="NeuroLingo"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="{StaticResource PrimaryBrush}"
                               VerticalAlignment="Center" />
                </StackPanel>

                <!-- Main Navigation -->
                <StackPanel Grid.Column="1" 
                            Orientation="Horizontal"
                            HorizontalAlignment="Center">
                    <Button Content="Strona główna" 
                            Style="{StaticResource NavItemStyle}"
                            Command="{Binding ShowHomeCommand}" />
                    <Button Content="O nas" 
                            Style="{StaticResource NavItemStyle}"
                            IsEnabled="False" />
                    <Button Content="Kursy" 
                            Style="{StaticResource NavItemStyle}"
                            IsEnabled="False" />
                    
                    <!-- Authenticated-only items -->
                    <Button Content="Stwórz fiszkę" 
                            Style="{StaticResource NavItemStyle}"
                            Visibility="{Binding IsAuthenticated, Converter={StaticResource BoolToVisibilityConverter}}"
                            IsEnabled="False" />
                    <Button Content="Moje fiszki" 
                            Style="{StaticResource NavItemStyle}"
                            Visibility="{Binding IsAuthenticated, Converter={StaticResource BoolToVisibilityConverter}}"
                            IsEnabled="False" />
                    
                    <Button Content="FAQ" 
                            Style="{StaticResource NavItemStyle}"
                            IsEnabled="False" />
                </StackPanel>

                <!-- Auth Navigation -->
                <StackPanel Grid.Column="2" 
                            Orientation="Horizontal"
                            VerticalAlignment="Center">
                    
                    <!-- Show when authenticated -->
                    <StackPanel Orientation="Horizontal"
                                Visibility="{Binding IsAuthenticated, Converter={StaticResource BoolToVisibilityConverter}}">
                        <TextBlock Text="{Binding WelcomeMessage}"
                                   VerticalAlignment="Center"
                                   Margin="0,0,15,0"
                                   Foreground="{StaticResource TextMutedBrush}" />
                        <Button Content="Wyloguj" 
                                Style="{StaticResource NavItemStyle}"
                                Command="{Binding LogoutCommand}" />
                    </StackPanel>
                    
                    <!-- Show when not authenticated -->
                    <StackPanel Orientation="Horizontal"
                                Visibility="{Binding IsAuthenticated, Converter={StaticResource InverseBoolToVisibilityConverter}}">
                        <Button Content="Zarejestruj się" 
                                Style="{StaticResource NavItemStyle}"
                                Command="{Binding ShowRegisterCommand}" />
                        <Button Content="Zaloguj się" 
                                Style="{StaticResource NavItemStyle}"
                                Command="{Binding ShowLoginCommand}" />
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content Area - Uses DataTemplates for ViewModels -->
        <ContentControl Grid.Row="1" 
                        Content="{Binding CurrentViewModel}"
                        Margin="20" />

        <!-- Footer - Pure XAML Template -->
        <Border Grid.Row="2"
                Background="{StaticResource WhiteBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,1,0,0"
                Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Social Media Links -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Social Media:" 
                               FontWeight="SemiBold"
                               VerticalAlignment="Center"
                               Margin="0,0,15,0" />
                    <Button Content="Instagram" 
                            Style="{StaticResource LinkButtonStyle}"
                            Margin="0,0,10,0" />
                    <Button Content="Twitter" 
                            Style="{StaticResource LinkButtonStyle}"
                            Margin="0,0,10,0" />
                    <Button Content="Facebook" 
                            Style="{StaticResource LinkButtonStyle}" />
                </StackPanel>

                <!-- Copyright -->
                <TextBlock Grid.Column="1"
                           Text="© 2025 NeuroLingo. Wszelkie prawa zastrzeżone."
                           Foreground="{StaticResource TextMutedBrush}"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center" />

                <!-- Newsletter -->
                <StackPanel Grid.Column="2" 
                            Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <TextBlock Text="Newsletter:"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0" />
                    <TextBox Width="150"
                             Style="{StaticResource FormTextBoxStyle}"
                             Padding="8,5"
                             VerticalAlignment="Center" />
                    <Button Content="Subscribe"
                            Style="{StaticResource SecondaryButtonStyle}"
                            Padding="12,5"
                            Margin="10,0,0,0"
                            VerticalAlignment="Center" />
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
